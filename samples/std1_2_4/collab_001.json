{
  "name": "20260205_Test",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1520,
        336
      ],
      "id": "f22cdd61-3d81-4a2e-acb2-17ab60bd1781",
      "name": "Manual Trigger Input Form"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"tasks\": [\n    {\n      \"ip\":\"{{ $json.ip_01 }}\",\n      \"task_name\": \"20260205_Test_単独自律（Lift地点まで）\",\n      \"ratio_speed\": 1,\n      \"bias_accuracy_xy\": 0,\n      \"bias_accuracy_deg\": 0,\n      \"execute_count\": 1\n    },\n    {\n      \"ip\":\"{{ $json.ip_02 }}\",\n      \"task_name\": \"20260205_Test_単独自律（Lift地点まで）\",\n      \"ratio_speed\": 1,\n      \"bias_accuracy_xy\": 0,\n      \"bias_accuracy_deg\": 0,\n      \"execute_count\": 1\n    }\n  ]\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -896,
        336
      ],
      "id": "2a3a84b7-beb5-4446-bcfa-cd0f268cea2e",
      "name": "単体Task01",
      "executeOnce": true
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "6CkvYQP4614XQ1Lx",
          "mode": "list",
          "cachedResultUrl": "/workflow/6CkvYQP4614XQ1Lx",
          "cachedResultName": "協調解除"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "tasks": "={{ $json.tasks }}"
          },
          "matchingColumns": [
            "tasks"
          ],
          "schema": [
            {
              "id": "tasks",
              "displayName": "tasks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {
          "waitForSubWorkflow": true
        }
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -640,
        112
      ],
      "name": "Call 協調解除",
      "id": "09e3750a-8d3a-409c-b2d8-f2f9e60d8081"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "43lg4zoyz4W0L8un",
          "mode": "list",
          "cachedResultUrl": "/workflow/43lg4zoyz4W0L8un",
          "cachedResultName": "タスク実行"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "tasks": "={{ $json.tasks }}"
          },
          "matchingColumns": [
            "tasks"
          ],
          "schema": [
            {
              "id": "tasks",
              "displayName": "tasks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {
          "waitForSubWorkflow": true
        }
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -640,
        336
      ],
      "name": "Call タスク実行",
      "id": "2eb81089-4d37-41d5-9596-a254afa74ef9",
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "2f121bdf-e97a-4d24-8a47-e244e92402cc",
              "name": "ip_01",
              "value": "192.168.24.246",
              "type": "string"
            },
            {
              "id": "905ec3d1-c892-44af-b517-cc26fa74d839",
              "name": "ip_02",
              "value": "192.168.24.234",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1328,
        336
      ],
      "id": "ccc68849-a275-42af-b268-bb0f0092e460",
      "name": "Robots",
      "executeOnce": true
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"group_name\": \"collab99\",\n  \"master\": \"{{ $json.ip_01 }}\",\n  \"robots\": [\n    {\n      \"ip\": \"{{ $json.ip_01 }}\",\n      \"dx\": 0,\n      \"dy\": 1.21,\n      \"dw\": 0\n    },\n    {\n      \"ip\": \"{{ $json.ip_02 }}\",\n      \"dx\": 0,\n      \"dy\": -1.21,\n      \"dw\": 180\n    }\n  ]\n}",
        "includeOtherFields": true,
        "include": "selected",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1056,
        544
      ],
      "id": "205f19f4-d5b3-42e0-a7ed-15a9305455a7",
      "name": "Bind情報",
      "executeOnce": true
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"tasks\": [\n    {\n      \"ip\":\"{{ $json.master }}\",\n      \"task_name\": \"20260205_Test_自律協調_AtoB\",\n      \"ratio_speed\": 1,\n      \"bias_accuracy_xy\": 0,\n      \"bias_accuracy_deg\": 0,\n      \"execute_count\": 1\n    }\n  ]\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -896,
        752
      ],
      "id": "085fa506-98b8-4cb0-aefc-c1e548f06771",
      "name": "協調Task",
      "executeOnce": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "2f121bdf-e97a-4d24-8a47-e244e92402cc",
              "name": "ip_01",
              "value": "192.168.25.79",
              "type": "string"
            },
            {
              "id": "905ec3d1-c892-44af-b517-cc26fa74d839",
              "name": "ip_02",
              "value": "192.168.25.76",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1328,
        544
      ],
      "id": "df7dfe2a-3b4e-427c-b602-bc1145c4c9e2",
      "name": "Robots1",
      "executeOnce": true
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://{{ $json.master }}:8080/collab/group_create_and_bind",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json.toJsonString() }}",
        "options": {
          "timeout": 60000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -640,
        544
      ],
      "id": "582a7195-d7f8-4202-a3ef-11e0c5bc8c1f",
      "name": "協調Create&Bind"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "43lg4zoyz4W0L8un",
          "mode": "list",
          "cachedResultUrl": "/workflow/43lg4zoyz4W0L8un",
          "cachedResultName": "タスク実行"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "tasks": "={{ $json.tasks }}"
          },
          "matchingColumns": [
            "tasks"
          ],
          "schema": [
            {
              "id": "tasks",
              "displayName": "tasks",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {
          "waitForSubWorkflow": true
        }
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        -640,
        752
      ],
      "name": "Call タスク実行1",
      "id": "539603c9-69cc-47fe-ab1e-51b778ceae1d",
      "alwaysOutputData": false
    }
  ],
  "pinData": {},
  "connections": {
    "Manual Trigger Input Form": {
      "main": [
        [
          {
            "node": "Robots",
            "type": "main",
            "index": 0
          },
          {
            "node": "Robots1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "単体Task01": {
      "main": [
        [
          {
            "node": "Call 協調解除",
            "type": "main",
            "index": 0
          },
          {
            "node": "Call タスク実行",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call 協調解除": {
      "main": [
        [
          {
            "node": "Call タスク実行",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call タスク実行": {
      "main": [
        []
      ]
    },
    "Robots": {
      "main": [
        [
          {
            "node": "単体Task01",
            "type": "main",
            "index": 0
          },
          {
            "node": "Bind情報",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bind情報": {
      "main": [
        [
          {
            "node": "協調Create&Bind",
            "type": "main",
            "index": 0
          },
          {
            "node": "協調Task",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "協調Task": {
      "main": [
        [
          {
            "node": "Call タスク実行1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Robots1": {
      "main": [
        []
      ]
    },
    "協調Create&Bind": {
      "main": [
        []
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "5adec56a-7798-46ba-8a90-4e8c95ba2a58",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5e5e8c4e18a7e7ddef7816e91f7e4b1181d780c5c6c079149d64d7aa6a5464e5"
  },
  "id": "HncYIawOEgKe9USH",
  "tags": []
}